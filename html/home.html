<!doctype>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="../public/stylesheets/style.css">
    <link rel="stylesheet" href="../public/stylesheets/dropit.css" type="text/css" />
  </head>
    <title>Rock Paper Scissors Lizard Spock</title>
  <body>
    <center><h1>Archer Balotelli Birdseye Brown Mr Motivator</h1><center>
    <center><div id="players"><h1></h1></div></center>
      <script src='../javascript/lib/player.js'></script>
      <script src='../javascript/lib/game.js'></script>
      <script src='http://code.jquery.com/jquery-2.1.0.min.js'></script>

		<center><div id='choices'>
      <img class="item" src="../public/pics/1.jpg" data-pick="Jeffrey Archer">
      <img class="item" src="../public/pics/2.jpg" data-pick="Mario Balotelli">
      <img class="item" src="../public/pics/3.jpg" data-pick="Captain Birdseye">
      <img class="item" src="../public/pics/4.jpg" data-pick="James Brown">
      <img class="item" src="../public/pics/5.jpg" data-pick="Mr Motivator">
    </div></center>

    <center>
        <ul id="results"></ul>
    </center>
    <script>
      $(document).ready(function(){
      	var name = prompt('Please enter your name');
        if(name) {
          var p1 = new Player(name);          
        } else {
          var p1 = new Player('Human');
        }
        var p2 = new Player('Computer');
        var game = new Game(p1, p2);

        $('.menu li').on('click', function() {
          if($(this).data('player')) {          
            window.playerChoice = $(this).data('player');
          }
        })

        $('#choices img').on('click', function(){
          p1.picks($(this).data('pick'));
          window.playerChoice ? p2.picks(window.playerChoice) : p2.randompick();

          game.determineWinner()

          $('#players h1').html("Welcome " + p1.name + ". You are playing with the mighty " + p1.pick)
          var latestResult = $('<li>' + game.message() + '</li>');
          latestResult.prependTo('#results')
          
          $('#results li:nth-child(5)').fadeOut(function(){
            $(this).remove()
          });
        });
      })
    </script>
  </body>
</html>